var Utils=Utils||{};(function(b,a){a.command=b.command=function(m){if(typeof m==="function"){m={action:m}}if(!m){throw"No options were specified"}if(!m.action){throw"No action was specified in the options"}var l=a.observable(false),d={done:[],fail:[],always:[function(){l(false)}]},k=function(o,p){var n=$.Deferred();if(o){n.resolve(p)}else{n.reject(p)}return n},h=function(){if(!e()){return k(false).promise()}l(true);var o;try{o=m.action.apply(h,arguments);if(!o||!o.done||!o.always||!o.fail){o=k(true,o).promise()}}catch(n){o=k(false,n).promise()}o.always(d.always).fail(d.fail).done(d.done);return o},j=a.observable(),e=a.computed(function(){j();return !l()&&(typeof m.canExecute==="undefined"||m.canExecute.call(h))},h),f=function(){j.notifySubscribers()},g=function(n){d.done.push(n);return h},i=function(n){d.fail.push(n);return h},c=function(n){d.always.push(n);return h};if(m.done){d.done.push(m.done)}if(m.fail){d.fail.push(m.fail)}h.isRunning=l;h.canExecute=e;h.canExecuteHasMutated=f;h.done=g;h.fail=i;h.always=c;return h}})(Utils,ko||{});var Utils=Utils||{};(function(b,a){b.PagedObservableArray=function(j){j=j||{};if($.isArray(j)){j={data:j}}var c=a.observableArray(j.data||[]),h=a.observable(j.pageSize||10),g=a.observable(0),e=a.computed(function(){var m=h(),l=g(),n=m*l,k=m*(l+1);return c().slice(n,k)},this),f=a.computed(function(){return Math.ceil(c().length/h())||1}),d=function(){if(g()<(f()-1)){g(g()+1)}},i=function(){if(g()>0){g(g()-1)}};h.subscribe(function(){g(0)});c.subscribe(function(){g(0)});this.allData=c;this.pageSize=h;this.pageIndex=g;this.page=e;this.pageCount=f;this.nextPage=d;this.previousPage=i}})(Utils,ko);var Utils=Utils||{};(function(b,a){a.pagedList=b.pagedList=function(m){if(!m){throw"Options not specified"}if(!m.loadPage){throw"loadPage not specified on options"}var k=this,i=a.observable(m.pageSize||10),h=a.observable(0),l=a.observable(-1),f=a.observable([]),d=b.command(function(n){var o=m.loadPage(n,i());if(!o.pipe){throw"loadPage should return a promise"}return o.pipe(c).done(function(){h(n)})}),c=function(n){if(!n){throw"No page results"}if(!n.rows){throw"Result should contain rows array"}if(m.map){f($.map(n.rows,m.map))}else{f(n.rows)}if(n.totalRows){l(n.totalRows)}return n},g=a.computed(function(){if(l()===-1){return -1}return Math.ceil(l()/i())||1}),e=function(){var n=h(),o=g();if(o===-1||n<(o-1)){d(n+1)}},j=function(){var n=h()-1;if(n>=0){d(n)}};i.subscribe(function(){d(0)});if(m.firstPage){c(m.firstPage)}else{d(0)}f.pageSize=i;f.pageIndex=h;f.pageCount=g;f.totalRows=l;f.nextPage=e;f.previousPage=j;f.loadPage=d;return f}})(Utils,ko);